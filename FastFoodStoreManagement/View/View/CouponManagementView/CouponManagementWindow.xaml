<UserControl x:Class="View.CouponManagementWindow"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Height="600" Width="1100">
    <UserControl.Resources>
        <!-- Reusable brushes -->
        <SolidColorBrush x:Key="PrimaryBrush" Color="#FF2196F3"/>
        <SolidColorBrush x:Key="AccentBrush" Color="#FFFFC107"/>
        <!-- Màu vàng nổi bật -->
        <SolidColorBrush x:Key="DangerBrush" Color="#FFF44336"/>
        <SolidColorBrush x:Key="PrimaryTextBrush" Color="White"/>

        <!-- Common Button style -->
        <Style TargetType="Button" x:Key="PrimaryButtonStyle">
            <Setter Property="Background" Value="{StaticResource PrimaryBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource PrimaryTextBrush}"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Height" Value="30"/>
            <Setter Property="Width" Value="120"/>
        </Style>
    </UserControl.Resources>

    <!-- Đổi nền thành màu xám -->
    <Grid Background="#FFB0B0B0">
        <Grid.RowDefinitions>
            <RowDefinition Height="80"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- DataGrid -->
        <DataGrid Grid.Row="0" Grid.RowSpan="3" Margin="0,0,0,100"
                  AutoGenerateColumns="False" CanUserAddRows="False"
                  ItemsSource="{Binding Discounts}" Background="White">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Mã Coupon" Binding="{Binding Code}" Width="*"/>
                <DataGridTextColumn Header="Ngày tạo" Binding="{Binding StartDate, StringFormat='dd/MM/yyyy'}" Width="*"/>
                <DataGridTextColumn Header="Ngày hết hạn" Binding="{Binding EndDate, StringFormat='dd/MM/yyyy'}" Width="*"/>
                <DataGridTextColumn Header="Loại" Binding="{Binding DisplayType}" Width="*"/>
                <DataGridTextColumn Header="Giá trị" Binding="{Binding Value}" Width="*"/>
                <DataGridTextColumn Header="Trạng thái" Binding="{Binding IsActive}" Width="*"/>
                <DataGridTemplateColumn Header="">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Style="{StaticResource PrimaryButtonStyle}"
                                    Content="Edit"
                                    Background="{StaticResource AccentBrush}"
                                    Foreground="Black"
                                    Click="Edit_Click"
                                    CommandParameter="{Binding}"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn Header="">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Style="{StaticResource PrimaryButtonStyle}"
                                    Content="Delete"
                                    Background="{StaticResource DangerBrush}"
                                    Foreground="White"
                                    Click="Delete_Click"
                                    CommandParameter="{Binding}"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Nút chức năng ở cuối -->
        <Button Grid.Row="2"
                Content="Create Coupon"
                HorizontalAlignment="Right"
                Margin="0,441,0,49"
                Style="{StaticResource PrimaryButtonStyle}"
                Background="{StaticResource PrimaryBrush}"
                Foreground="Black"
                Click="Create_Click"/>

        <TextBox x:Name="TxtSearchCode"
                 Grid.Row="1"
                 Width="200"
                 VerticalAlignment="Top"
                 HorizontalAlignment="Left"
                 Margin="0,441,0,0"
                 TextChanged="TxtSearchCode_TextChanged" Height="29" Grid.RowSpan="2"/>

        <Button Grid.Row="1"
                Content="Search"
                Style="{StaticResource PrimaryButtonStyle}"
                Background="{StaticResource PrimaryBrush}"
                Foreground="Black"
                Width="100"
                Margin="245,441,0,49"
                HorizontalAlignment="Left"
                Click="Search_Click" Grid.RowSpan="2"/>

        <Button Grid.Row="1"
                Content="Reset"
                Style="{StaticResource PrimaryButtonStyle}"
                Background="{StaticResource DangerBrush}"
                Width="100"
                Margin="374,441,0,49"
                HorizontalAlignment="Left"
                Click="ResetSearch_Click" Grid.RowSpan="2"/>
    </Grid>
</UserControl>
